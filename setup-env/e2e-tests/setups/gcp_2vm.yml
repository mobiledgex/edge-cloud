# Copyright 2022 MobiledgeX, Inc
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

## Replace the IPs below as needed with the values for your system
vars:
- vm1_internal_ip: 10.10.0.12
- vm2_internal_ip: 10.10.0.13
- vm1_external_ip: 35.227.168.79 
- vm2_external_ip: 35.230.48.195

locsims:
- name: locsim1
  port: 8888
  locfile: "{{datadir}}/locsim.yml"
  hostname: "{{vm1_external_ip}}"

etcds:
- name: etcd1
  datadir: /var/tmp/edge-cloud-local-etcd/etcd1
  peeraddrs: "http://{{vm1_internal_ip}}:30011"
  clientaddrs: "http://{{vm1_internal_ip}}:30001"
  initialcluster: "etcd1=http://{{vm1_internal_ip}}:30011,etcd2=http://{{vm1_internal_ip}}:30012,etcd3=http://{{vm1_internal_ip}}:30013"
  hostname: "{{vm1_external_ip}}"

- name: etcd2
  datadir: /var/tmp/edge-cloud-local-etcd/etcd2
  peeraddrs: "http://{{vm1_internal_ip}}:30012"
  clientaddrs: "http://{{vm1_internal_ip}}:30002"
  initialcluster: "etcd1=http://{{vm1_internal_ip}}:30011,etcd2=http://{{vm1_internal_ip}}:30012,etcd3=http://{{vm1_internal_ip}}:30013"
  hostname: "{{vm1_external_ip}}"

- name: etcd3
  datadir: /var/tmp/edge-cloud-local-etcd/etcd3
  peeraddrs: "http://{{vm1_internal_ip}}:30013"
  clientaddrs: "http://{{vm1_internal_ip}}:30003"
  initialcluster: "etcd1=http://{{vm1_internal_ip}}:30011,etcd2=http://{{vm1_internal_ip}}:30012,etcd3=http://{{vm1_internal_ip}}:30013"
  hostname: "{{vm1_external_ip}}"

controllers:
- name: ctrl1
  etcdaddrs: "http://{{vm1_internal_ip}}:30001,http://{{vm1_internal_ip}}:30002,http://{{vm1_internal_ip}}:30003"
  apiaddr: "0.0.0.0:55001"
  httpaddr: "0.0.0.0:36001"
  notifyaddr: "{{vm1_internal_ip}}:37001"
  hostname: "{{vm1_external_ip}}"

- name: ctrl2
  etcdaddrs: "http://{{vm1_internal_ip}}:30001,http://{{vm1_internal_ip}}:30002,http://{{vm1_internal_ip}}:30003"
  apiaddr: "0.0.0.0:55001"
  httpaddr: "0.0.0.0:36001"
  notifyaddr: "{{vm2_internal_ip}}:37001"
  hostname: "{{vm2_external_ip}}"


dmes:
- name: dme1
  apiaddr: "0.0.0.0:50051"
  notifyaddrs: "{{vm1_internal_ip}}:37001,{{vm2_internal_ip}}:37001"
  locverurl: "http://{{vm1_internal_ip}}:8888"
  carrier: TDG
  cloudletkey: '{"operator_key":{"name":"AT&T Inc."},"name":"San Jose Site"}'
  hostname: "{{vm1_external_ip}}"

- name: dme2
  apiaddr: "0.0.0.0:50051"
  notifyaddrs: "{{vm1_internal_ip}}:37001,{{vm2_internal_ip}}:37001"
  locverurl: "http://{{vm1_internal_ip}}:8888"
  carrier: TDG
  cloudletkey: '{"operator_key":{"name":"AT&T Inc."},"name":"San Jose Site"}'
  hostname: "{{vm2_external_ip}}"

  
crms:
- name: crm1
  apiaddr: "0.0.0.0:55091"
  notifyaddrs: "{{vm1_internal_ip}}:37001,{{vm2_internal_ip}}:37001"
  cloudletkey: '{"operator_key":{"name":"AT&T Inc."},"name":"San Jose Site"}'
