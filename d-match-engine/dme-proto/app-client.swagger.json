{
  "swagger": "2.0",
  "info": {
    "title": "app-client.proto",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/addusertogroup": {
      "post": {
        "operationId": "AddUserToGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/distributed_match_engineDynamicLocGroupReply"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/distributed_match_engineDynamicLocGroupRequest"
            }
          }
        ],
        "tags": [
          "Match_Engine_Api"
        ]
      }
    },
    "/v1/findcloudlet": {
      "post": {
        "operationId": "FindCloudlet",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/distributed_match_engineFindCloudletReply"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/distributed_match_engineFindCloudletRequest"
            }
          }
        ],
        "tags": [
          "Match_Engine_Api"
        ]
      }
    },
    "/v1/getappinstlist": {
      "post": {
        "operationId": "GetAppInstList",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/distributed_match_engineAppInstListReply"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/distributed_match_engineAppInstListRequest"
            }
          }
        ],
        "tags": [
          "Match_Engine_Api"
        ]
      }
    },
    "/v1/getfqdnlist": {
      "post": {
        "operationId": "GetFqdnList",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/distributed_match_engineFqdnListReply"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/distributed_match_engineFqdnListRequest"
            }
          }
        ],
        "tags": [
          "Match_Engine_Api"
        ]
      }
    },
    "/v1/getlocation": {
      "post": {
        "operationId": "GetLocation",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/distributed_match_engineGetLocationReply"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/distributed_match_engineGetLocationRequest"
            }
          }
        ],
        "tags": [
          "Match_Engine_Api"
        ]
      }
    },
    "/v1/registerclient": {
      "post": {
        "operationId": "RegisterClient",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/distributed_match_engineRegisterClientReply"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/distributed_match_engineRegisterClientRequest"
            }
          }
        ],
        "tags": [
          "Match_Engine_Api"
        ]
      }
    },
    "/v1/verifylocation": {
      "post": {
        "operationId": "VerifyLocation",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/distributed_match_engineVerifyLocationReply"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/distributed_match_engineVerifyLocationRequest"
            }
          }
        ],
        "tags": [
          "Match_Engine_Api"
        ]
      }
    }
  },
  "definitions": {
    "AppInstListReplyAI_Status": {
      "type": "string",
      "enum": [
        "AI_UNDEFINED",
        "AI_SUCCESS",
        "AI_FAIL"
      ],
      "default": "AI_UNDEFINED",
      "title": "Status of the reply"
    },
    "DlgMessageDlgAck": {
      "type": "string",
      "enum": [
        "DlgAckEachMessage",
        "DlgAsyEveryNMessage",
        "DlgNoAck"
      ],
      "default": "DlgAckEachMessage",
      "title": "Need acknowledgement"
    },
    "DynamicLocGroupRequestDlgCommType": {
      "type": "string",
      "enum": [
        "DlgUndefined",
        "DlgSecure",
        "DlgOpen"
      ],
      "default": "DlgUndefined",
      "title": "Use Secure communication or Open with the group"
    },
    "FindCloudletReplyFindStatus": {
      "type": "string",
      "enum": [
        "FIND_UNKNOWN",
        "FIND_FOUND",
        "FIND_NOTFOUND"
      ],
      "default": "FIND_UNKNOWN"
    },
    "FqdnListReplyFL_Status": {
      "type": "string",
      "enum": [
        "FL_UNDEFINED",
        "FL_SUCCESS",
        "FL_FAIL"
      ],
      "default": "FL_UNDEFINED",
      "title": "Status of the reply"
    },
    "GetLocationReplyLoc_Status": {
      "type": "string",
      "enum": [
        "LOC_UNKNOWN",
        "LOC_FOUND",
        "LOC_DENIED"
      ],
      "default": "LOC_UNKNOWN",
      "description": "- LOC_DENIED: The user does not allow his location to be tracked",
      "title": "Status of the reply"
    },
    "VerifyLocationReplyGPS_Location_Status": {
      "type": "string",
      "enum": [
        "LOC_UNKNOWN",
        "LOC_VERIFIED",
        "LOC_MISMATCH_SAME_COUNTRY",
        "LOC_MISMATCH_OTHER_COUNTRY",
        "LOC_ROAMING_COUNTRY_MATCH",
        "LOC_ROAMING_COUNTRY_MISMATCH",
        "LOC_ERROR_UNAUTHORIZED",
        "LOC_ERROR_OTHER"
      ],
      "default": "LOC_UNKNOWN"
    },
    "VerifyLocationReplyTower_Status": {
      "type": "string",
      "enum": [
        "TOWER_UNKNOWN",
        "CONNECTED_TO_SPECIFIED_TOWER",
        "NOT_CONNECTED_TO_SPECIFIED_TOWER"
      ],
      "default": "TOWER_UNKNOWN",
      "title": "Status of the reply"
    },
    "distributed_match_engineAppFqdn": {
      "type": "object",
      "properties": {
        "AppName": {
          "type": "string",
          "title": "App  Name"
        },
        "AppVers": {
          "type": "string",
          "title": "App Version"
        },
        "DevName": {
          "type": "string",
          "title": "developer name"
        },
        "FQDN": {
          "type": "string",
          "title": "App FQDN"
        },
        "AndroidPackageName": {
          "type": "string",
          "title": "optional android package name"
        }
      }
    },
    "distributed_match_engineAppInstListReply": {
      "type": "object",
      "properties": {
        "Ver": {
          "type": "integer",
          "format": "int64",
          "title": "API version"
        },
        "Status": {
          "$ref": "#/definitions/AppInstListReplyAI_Status"
        },
        "Cloudlets": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/distributed_match_engineCloudletLocation"
          }
        }
      }
    },
    "distributed_match_engineAppInstListRequest": {
      "type": "object",
      "properties": {
        "Ver": {
          "type": "integer",
          "format": "int64",
          "title": "API version"
        },
        "SessionCookie": {
          "type": "string",
          "title": "Session Cookie from RegisterClientRequest"
        },
        "CarrierName": {
          "type": "string",
          "title": "The carrier name that user is connected to (\"Cellular Carrier Name\")"
        },
        "GpsLocation": {
          "$ref": "#/definitions/distributed_match_engineLoc",
          "title": "The GPS location of the user"
        }
      }
    },
    "distributed_match_engineAppPort": {
      "type": "object",
      "properties": {
        "proto": {
          "$ref": "#/definitions/distributed_match_engineLProto",
          "title": "TCP (L4), UDP (L4), or HTTP (L7) protocol"
        },
        "internal_port": {
          "type": "integer",
          "format": "int32",
          "title": "Container port"
        },
        "public_port": {
          "type": "integer",
          "format": "int32",
          "title": "Public facing port for TCP/UDP (may be mapped on shared LB reverse proxy)"
        },
        "public_path": {
          "type": "string",
          "description": "Public facing path for HTTP L7 access."
        },
        "FQDN_prefix": {
          "type": "string",
          "description": "FQDN prefix to append to base FQDN in FindCloudlet response. May be empty."
        }
      },
      "description": "AppPort describes an L4 or L7 public access port/path mapping. This is used to track external to internal mappings for access via a shared load balancer or reverse proxy."
    },
    "distributed_match_engineAppinstance": {
      "type": "object",
      "properties": {
        "AppName": {
          "type": "string",
          "title": "App Instance Name"
        },
        "AppVers": {
          "type": "string",
          "title": "App Instance Version"
        },
        "FQDN": {
          "type": "string",
          "title": "App Instance FQDN"
        },
        "ports": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/distributed_match_engineAppPort"
          },
          "title": "ports to access app"
        }
      }
    },
    "distributed_match_engineCloudletLocation": {
      "type": "object",
      "properties": {
        "CarrierName": {
          "type": "string",
          "title": "The carrier name that user is connected to (\"Cellular Carrier Name\")"
        },
        "CloudletName": {
          "type": "string",
          "title": "Cloudlet Name"
        },
        "GpsLocation": {
          "$ref": "#/definitions/distributed_match_engineLoc",
          "title": "The GPS Location of the user"
        },
        "Distance": {
          "type": "number",
          "format": "double",
          "title": "Distance of cloudlet vs loc in request"
        },
        "Appinstances": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/distributed_match_engineAppinstance"
          },
          "title": "App instances"
        }
      }
    },
    "distributed_match_engineDlgReply": {
      "type": "object",
      "properties": {
        "ver": {
          "type": "integer",
          "format": "int64"
        },
        "AckId": {
          "type": "string",
          "format": "uint64",
          "title": "AckId"
        },
        "GroupCookie": {
          "type": "string",
          "title": "Group Cookie for Secure comm"
        }
      }
    },
    "distributed_match_engineDynamicLocGroupReply": {
      "type": "object",
      "properties": {
        "ver": {
          "type": "integer",
          "format": "int64"
        },
        "status": {
          "$ref": "#/definitions/distributed_match_engineReplyStatus",
          "title": "Status of the reply"
        },
        "ErrorCode": {
          "type": "integer",
          "format": "int64",
          "title": "Error Code based on Failure"
        },
        "GroupCookie": {
          "type": "string",
          "title": "Group Cookie for Secure Group Communication"
        }
      }
    },
    "distributed_match_engineDynamicLocGroupRequest": {
      "type": "object",
      "properties": {
        "Ver": {
          "type": "integer",
          "format": "int64"
        },
        "SessionCookie": {
          "type": "string",
          "title": "Session Cookie from RegisterClientRequest"
        },
        "LgId": {
          "type": "string",
          "format": "uint64",
          "title": "Dynamic Location Group Id"
        },
        "CommType": {
          "$ref": "#/definitions/DynamicLocGroupRequestDlgCommType"
        },
        "UserData": {
          "type": "string",
          "title": "Unused"
        }
      }
    },
    "distributed_match_engineFindCloudletReply": {
      "type": "object",
      "properties": {
        "Ver": {
          "type": "integer",
          "format": "int64",
          "title": "API version"
        },
        "status": {
          "$ref": "#/definitions/FindCloudletReplyFindStatus",
          "title": "Status return"
        },
        "FQDN": {
          "type": "string",
          "title": "Full Qualified Domain Name of Closest App instance"
        },
        "ports": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/distributed_match_engineAppPort"
          },
          "title": "List of Service Endpoints for AppInst"
        },
        "cloudlet_location": {
          "$ref": "#/definitions/distributed_match_engineLoc",
          "title": "Location of the cloudlet"
        }
      }
    },
    "distributed_match_engineFindCloudletRequest": {
      "type": "object",
      "properties": {
        "Ver": {
          "type": "integer",
          "format": "int64",
          "title": "API version"
        },
        "SessionCookie": {
          "type": "string",
          "title": "Session Cookie from RegisterClientRequest"
        },
        "CarrierName": {
          "type": "string",
          "title": "The carrier name that user is connected to (\"Cellular Carrier Name\")"
        },
        "GpsLocation": {
          "$ref": "#/definitions/distributed_match_engineLoc",
          "title": "The GPS location of the user"
        },
        "DevName": {
          "type": "string",
          "title": "DevName is applicable to Platform apps only"
        },
        "AppName": {
          "type": "string",
          "title": "App Name is applicable to Platform apps only"
        },
        "AppVers": {
          "type": "string",
          "title": "App Version is applicable to Platform apps only"
        }
      }
    },
    "distributed_match_engineFqdnListReply": {
      "type": "object",
      "properties": {
        "ver": {
          "type": "integer",
          "format": "int64",
          "title": "API version"
        },
        "AppFqdns": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/distributed_match_engineAppFqdn"
          }
        },
        "Status": {
          "$ref": "#/definitions/FqdnListReplyFL_Status"
        }
      }
    },
    "distributed_match_engineFqdnListRequest": {
      "type": "object",
      "properties": {
        "Ver": {
          "type": "integer",
          "format": "int64",
          "title": "API version"
        },
        "SessionCookie": {
          "type": "string",
          "title": "Session Cookie from RegisterClientRequest"
        }
      }
    },
    "distributed_match_engineGetLocationReply": {
      "type": "object",
      "properties": {
        "Ver": {
          "type": "integer",
          "format": "int64"
        },
        "Status": {
          "$ref": "#/definitions/GetLocationReplyLoc_Status"
        },
        "CarrierName": {
          "type": "string",
          "title": "The carrier name that user is connected to (\"Cellular Carrier Name\")"
        },
        "Tower": {
          "type": "string",
          "format": "uint64",
          "title": "The tower that user is currently connected to"
        },
        "NetworkLocation": {
          "$ref": "#/definitions/distributed_match_engineLoc",
          "title": "The GPS location of the user"
        }
      }
    },
    "distributed_match_engineGetLocationRequest": {
      "type": "object",
      "properties": {
        "Ver": {
          "type": "integer",
          "format": "int64",
          "title": "API version"
        },
        "SessionCookie": {
          "type": "string",
          "title": "Session Cookie from RegisterClientRequest"
        },
        "CarrierName": {
          "type": "string",
          "title": "The carrier name that user is connected to (\"Cellular Carrier Name\")"
        }
      }
    },
    "distributed_match_engineLProto": {
      "type": "string",
      "enum": [
        "LProtoUnknown",
        "LProtoTCP",
        "LProtoUDP",
        "LProtoHTTP"
      ],
      "default": "LProtoUnknown",
      "description": "LProto indicates which protocol to use for accessing an application on a particular port. This is required by Kubernetes for port mapping.\n\n - LProtoUnknown: Unknown protocol\n - LProtoTCP: TCP (L4) protocol\n - LProtoUDP: UDP (L4) protocol\n - LProtoHTTP: HTTP (L7 tcp) protocol"
    },
    "distributed_match_engineLoc": {
      "type": "object",
      "properties": {
        "lat": {
          "type": "number",
          "format": "double",
          "title": "latitude in WGS 84 coordinates"
        },
        "long": {
          "type": "number",
          "format": "double",
          "title": "longitude in WGS 84 coordinates"
        },
        "horizontal_accuracy": {
          "type": "number",
          "format": "double",
          "title": "horizontal accuracy (radius in meters)"
        },
        "vertical_accuracy": {
          "type": "number",
          "format": "double",
          "title": "veritical accuracy (meters)"
        },
        "altitude": {
          "type": "number",
          "format": "double",
          "title": "On android only lat and long are guaranteed to be supplied\naltitude in meters"
        },
        "course": {
          "type": "number",
          "format": "double",
          "title": "course (IOS) / bearing (Android) (degrees east relative to true north)"
        },
        "speed": {
          "type": "number",
          "format": "double",
          "title": "speed (IOS) / velocity (Android) (meters/sec)"
        },
        "timestamp": {
          "$ref": "#/definitions/distributed_match_engineTimestamp",
          "title": "timestamp"
        }
      }
    },
    "distributed_match_engineRegisterClientReply": {
      "type": "object",
      "properties": {
        "Ver": {
          "type": "integer",
          "format": "int64",
          "title": "API version"
        },
        "Status": {
          "$ref": "#/definitions/distributed_match_engineReplyStatus",
          "title": "Status of the reply"
        },
        "SessionCookie": {
          "type": "string",
          "title": "Session Cookie to be used in later API calls"
        },
        "TokenServerURI": {
          "type": "string",
          "title": "URI for Token Server"
        }
      }
    },
    "distributed_match_engineRegisterClientRequest": {
      "type": "object",
      "properties": {
        "Ver": {
          "type": "integer",
          "format": "int64",
          "title": "API version"
        },
        "DevName": {
          "type": "string",
          "title": "App Developer Name"
        },
        "AppName": {
          "type": "string",
          "title": "App Name"
        },
        "AppVers": {
          "type": "string",
          "title": "App Version"
        },
        "CarrierName": {
          "type": "string",
          "title": "carrier name, not currently used"
        },
        "AuthToken": {
          "type": "string",
          "title": "authentication token"
        }
      }
    },
    "distributed_match_engineReplyStatus": {
      "type": "string",
      "enum": [
        "RS_UNDEFINED",
        "RS_SUCCESS",
        "RS_FAIL"
      ],
      "default": "RS_UNDEFINED"
    },
    "distributed_match_engineTimestamp": {
      "type": "object",
      "properties": {
        "seconds": {
          "type": "string",
          "format": "int64"
        },
        "nanos": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "This is a simple Timestamp message type\ngrpc-gateway converts google.protobuf.Timestamp into an RFC3339-type string\nwhich is a waste of a conversion, so we define our own"
    },
    "distributed_match_engineVerifyLocationReply": {
      "type": "object",
      "properties": {
        "ver": {
          "type": "integer",
          "format": "int64",
          "title": "API version"
        },
        "tower_status": {
          "$ref": "#/definitions/VerifyLocationReplyTower_Status"
        },
        "gps_location_status": {
          "$ref": "#/definitions/VerifyLocationReplyGPS_Location_Status"
        },
        "GPS_Location_Accuracy_KM": {
          "type": "number",
          "format": "double",
          "title": "location accuracy, the location is verified to \nbe within this number of kilometers.  Negative value\nmeans no verification was done"
        }
      }
    },
    "distributed_match_engineVerifyLocationRequest": {
      "type": "object",
      "properties": {
        "Ver": {
          "type": "integer",
          "format": "int64",
          "title": "API version"
        },
        "SessionCookie": {
          "type": "string",
          "title": "Session Cookie from RegisterClientRequest"
        },
        "CarrierName": {
          "type": "string",
          "title": "The carrier name that user is connected to (\"Cellular Carrier Name\")"
        },
        "GpsLocation": {
          "$ref": "#/definitions/distributed_match_engineLoc",
          "title": "The GPS location to verify"
        },
        "VerifyLocToken": {
          "type": "string",
          "title": "token used for location verification, app must retrieve from TokenServerURI"
        }
      }
    }
  }
}
